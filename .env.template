# =============================================================================
# Forex Signals System - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files to version control!

# =============================================================================
# Application Configuration
# =============================================================================

# Application Environment (development, testing, staging, production)
APP_ENV=production

# Application Name and Version
APP_NAME=forex-signals
APP_VERSION=2.0.0

# Debug Mode (true/false)
DEBUG=false

# =============================================================================
# Logging Configuration  
# =============================================================================

# Logging Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log Directory (relative to project root)
LOG_DIR=logs

# Log Retention (days)
LOG_RETENTION_DAYS=30

# Enable JSON Logging (true/false)
ENABLE_JSON_LOGGING=true

# =============================================================================
# PRIMARY API KEYS (REQUIRED)
# =============================================================================

# Alpha Vantage API (500 requests/day)
# Get free key at: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# Twelve Data API (800 requests/day on free tier)
# Get free key at: https://twelvedata.com/pricing
TWELVE_DATA_API_KEY=your_twelve_data_key_here

# FRED API (Federal Reserve Economic Data) - Free
# Get free key at: https://fred.stlouisfed.org/docs/api/
FRED_API_KEY=your_fred_api_key_here

# Finnhub API (60 requests/minute on free tier)  
# Get free key at: https://finnhub.io/pricing
FINNHUB_API_KEY=your_finnhub_api_key_here

# =============================================================================
# FALLBACK API KEYS (OPTIONAL BUT RECOMMENDED)
# =============================================================================

# Polygon.io API (5 requests/minute on free tier)
# Get free key at: https://polygon.io/pricing
POLYGON_API_KEY=your_polygon_key_here

# MarketStack API (1000 requests/month on free tier)
# Get free key at: https://marketstack.com/pricing
MARKETSTACK_API_KEY=your_marketstack_key_here

# ExchangeRate-API (1500 requests/month on free tier)
# Get free key at: https://app.exchangerate-api.com/sign-up
EXCHANGERATE_API_KEY=your_exchangerate_key_here

# Fixer.io API (100 requests/month on free tier)
# Get free key at: https://fixer.io/pricing
FIXER_API_KEY=your_fixer_key_here

# CurrencyAPI (300 requests/month on free tier)
# Get free key at: https://currencyapi.com/pricing
CURRENCY_API_KEY=your_currency_api_key_here

# FreeCurrencyAPI (5000 requests/month on free tier)
# Get free key at: https://freecurrencyapi.com/pricing  
FREECURRENCY_API_KEY=your_freecurrency_key_here

# ExchangeRatesAPI (1000 requests/month on free tier)
# Get free key at: https://exchangeratesapi.io/pricing
EXCHANGERATES_API_KEY=your_exchangerates_key_here

# =============================================================================
# MESSAGING CONFIGURATION (REQUIRED)
# =============================================================================

# Telegram Bot Configuration
# 1. Create bot: Message @BotFather on Telegram -> /newbot
# 2. Get bot token from BotFather
# 3. Add bot to your group and get group ID
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_GROUP_ID=-1001234567890

# Signal CLI Configuration  
# 1. Setup Signal CLI Docker: https://github.com/AsamK/signal-cli
# 2. Register phone number with Signal
# 3. Create/join Signal group and get group ID
SIGNAL_PHONE_NUMBER=+1234567890
SIGNAL_GROUP_ID=your_signal_group_id_here

# Signal CLI API URL (if running locally)
SIGNAL_CLI_URL=http://localhost:8080

# =============================================================================
# OPTIONAL API KEYS (DEPRECATED/UNUSED)
# =============================================================================

# News API (for sentiment analysis) - Optional
# Get free key at: https://newsapi.org/pricing
NEWS_API_KEY=your_news_api_key_here

# Reddit API (for sentiment analysis) - Optional
# Get credentials at: https://www.reddit.com/prefs/apps
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret

# Twitter API Bearer Token - Optional
# Get from: https://developer.twitter.com/
TWITTER_BEARER_TOKEN=your_twitter_bearer_token

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Redis URL (for caching and rate limiting)
REDIS_URL=redis://localhost:6379/0

# Redis Connection Settings
REDIS_TIMEOUT=5
REDIS_MAX_CONNECTIONS=10

# Cache TTL Settings (seconds)
CACHE_TTL_PRICE_DATA=3600        # 1 hour
CACHE_TTL_ECONOMIC_DATA=14400    # 4 hours  
CACHE_TTL_NEWS_DATA=1800         # 30 minutes
CACHE_TTL_SENTIMENT_DATA=3600    # 1 hour

# =============================================================================
# SIGNAL ANALYSIS CONFIGURATION
# =============================================================================

# Analysis Component Weights (must sum to 1.0)
ANALYSIS_WEIGHT_TECHNICAL=0.75    # Technical analysis weight (75%)
ANALYSIS_WEIGHT_ECONOMIC=0.20     # Economic analysis weight (20%)  
ANALYSIS_WEIGHT_GEOPOLITICAL=0.05 # Geopolitical analysis weight (5%)

# Signal Strength Thresholds (0.0 to 1.0)
STRONG_SIGNAL_THRESHOLD=0.7       # Strong signal threshold
MEDIUM_SIGNAL_THRESHOLD=0.5       # Medium signal threshold  
WEAK_SIGNAL_THRESHOLD=0.3         # Weak signal threshold

# =============================================================================
# RISK MANAGEMENT CONFIGURATION
# =============================================================================

# Risk Management Parameters (in pips)
MAX_STOP_LOSS_PIPS=200           # Maximum stop loss
MIN_TARGET_PIPS=100              # Minimum target
DEFAULT_TARGET_PIPS=150          # Default target

# Signal-specific targets
STRONG_SIGNAL_TARGET_PIPS=200    # Target for strong signals
MEDIUM_SIGNAL_TARGET_PIPS=150    # Target for medium signals
WEAK_SIGNAL_TARGET_PIPS=100      # Target for weak signals

# Risk/Reward Ratio
RISK_REWARD_RATIO=2.0            # Minimum risk to reward ratio

# Maximum Daily Signals
MAX_DAILY_SIGNALS=10             # Maximum signals per day

# =============================================================================
# MESSAGING CONFIGURATION
# =============================================================================

# Message Settings
MESSAGE_TIMEOUT=30               # Message send timeout (seconds)
MESSAGE_RETRY_ATTEMPTS=3         # Number of retry attempts
MESSAGE_RETRY_DELAY=5           # Delay between retries (seconds)

# =============================================================================
# OUTPUT CONFIGURATION
# =============================================================================

# Output Directory for Live Signals
OUTPUT_DIR=LiveSignals

# Enable File Output
ENABLE_FILE_OUTPUT=true

# =============================================================================
# DATA VALIDATION CONFIGURATION
# =============================================================================

# Price Validation Settings
ENABLE_PRICE_VALIDATION=true         # Enable price validation
PRICE_VALIDATION_SOURCES=3           # Number of sources for validation
PRICE_VARIANCE_THRESHOLD=0.01        # Maximum price variance (1%)

# =============================================================================
# DEVELOPMENT/TESTING CONFIGURATION
# =============================================================================

# Mock APIs for Testing (true/false)
ENABLE_MOCK_APIS=false

# Mock Response Delay (seconds)
MOCK_RESPONSE_DELAY=0.1

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Primary API Rate Limits (requests per period)
ALPHA_VANTAGE_RATE_LIMIT=500         # Per day
TWELVE_DATA_RATE_LIMIT=800           # Per day
FRED_RATE_LIMIT=120                  # Per minute
FINNHUB_RATE_LIMIT=60                # Per minute

# Fallback API Rate Limits
POLYGON_RATE_LIMIT=5                 # Per minute
MARKETSTACK_RATE_LIMIT=100           # Per hour
EXCHANGERATE_RATE_LIMIT=1000         # Per month
FIXER_RATE_LIMIT=100                # Per month
CURRENCY_API_RATE_LIMIT=300          # Per month
FREECURRENCY_RATE_LIMIT=5000         # Per month
EXCHANGERATES_RATE_LIMIT=1000        # Per month

# =============================================================================
# CURRENCY PAIRS CONFIGURATION
# =============================================================================

# Primary Currency Pairs (comma-separated)
PRIMARY_CURRENCY_PAIRS=USDCAD,EURUSD,CHFJPY,USDJPY,USDCHF

# =============================================================================
# SECURITY CONFIGURATION (ADVANCED)
# =============================================================================

# API Request Timeout (seconds)
API_REQUEST_TIMEOUT=30

# Maximum API Retry Attempts
MAX_API_RETRIES=3

# Connection Pool Settings
HTTP_POOL_CONNECTIONS=10
HTTP_POOL_MAXSIZE=20

# =============================================================================
# EXAMPLES AND HELP
# =============================================================================

# Example Telegram Group ID formats:
# Public channel: @channelname
# Private group: -1001234567890 (negative number with -100 prefix)
# Private chat: 123456789 (positive number)

# Example Signal Group ID:
# Use Signal CLI to list groups and find your group ID
# docker exec signal-cli signal-cli --dbus-system listGroups

# =============================================================================
# IMPORTANT SECURITY NOTES
# =============================================================================

# 1. NEVER commit the .env file to version control
# 2. Set appropriate file permissions: chmod 600 .env  
# 3. Use strong, unique API keys
# 4. Rotate API keys regularly
# 5. Monitor API usage and set up alerts
# 6. Use different keys for development/staging/production

# =============================================================================
# SETUP VERIFICATION
# =============================================================================

# After configuration, verify setup with:
# python -c "from forex_signals.core.config import validate_required_environment; validate_required_environment()"